<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="description" content="AI-Enhanced Dungeon Master - Classic 1987 dungeon crawler with modern AI assistance"> <meta name="keywords" content="dungeon master, ai game, retro gaming, dungeon crawler"> <meta name="author" content="AI Dungeon Master Team"> <meta property="og:title" content="AI-Enhanced Dungeon Master"> <meta property="og:description" content="Classic dungeon crawler with intelligent AI mentor system"> <meta property="og:type" content="website"> <link rel="preconnect" href="https://unpkg.com"> <link rel="preconnect" href="https://cdn.tailwindcss.com"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>AI Dungeon Master - Backend Demo</title> <style> body { font-family: 'Courier New', monospace; background: linear-gradient(135deg, #1a1a2e, #16213e); color: #eee; margin: 0; padding: 20px; min-height: 100vh; } .container { max-width: 1200px; margin: 0 auto; } .header { text-align: center; margin-bottom: 30px; } .header h1 { color: #4CAF50; font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); } .status-panel { background: rgba(0,0,0,0.3); border: 2px solid #4CAF50; border-radius: 10px; padding: 20px; margin-bottom: 20px; } .status-item { display: flex; justify-content: space-between; margin-bottom: 10px; padding: 5px 0; border-bottom: 1px solid rgba(255,255,255,0.1); } .status-label { font-weight: bold; } .status-value { color: #4CAF50; } .status-value.error { color: #f44336; } .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; } .control-panel { background: rgba(0,0,0,0.3); border: 2px solid #2196F3; border-radius: 10px; padding: 20px; } .control-panel h3 { color: #2196F3; margin-top: 0; } .form-group { margin-bottom: 15px; } .form-group label { display: block; margin-bottom: 5px; font-weight: bold; } .form-group input { width: 100%; padding: 8px; border: 1px solid #555; border-radius: 4px; background: rgba(255,255,255,0.1); color: #eee; font-family: inherit; } .btn { background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-family: inherit; font-weight: bold; margin-right: 10px; margin-bottom: 10px; } .btn:hover { background: #45a049; } .btn:disabled { background: #666; cursor: not-allowed; } .btn.secondary { background: #2196F3; } .btn.secondary:hover { background: #1976D2; } .btn.danger { background: #f44336; } .btn.danger:hover { background: #d32f2f; } .log-panel { background: rgba(0,0,0,0.5); border: 2px solid #FF9800; border-radius: 10px; padding: 20px; height: 300px; overflow-y: auto; } .log-panel h3 { color: #FF9800; margin-top: 0; } .log-entry { margin-bottom: 5px; padding: 5px; border-radius: 3px; font-size: 0.9em; } .log-entry.info { background: rgba(76, 175, 80, 0.2); } .log-entry.error { background: rgba(244, 67, 54, 0.2); } .log-entry.warning { background: rgba(255, 152, 0, 0.2); } .game-canvas { border: 3px solid #4CAF50; border-radius: 10px; background: #000; display: block; margin: 20px auto; } .hidden { display: none; } </style> </head> <body> <div class="container"> <div class="header"> <h1>üéÆ AI Dungeon Master - Backend Demo</h1> <p>Test the backend integration and real-time features</p> </div> <div class="status-panel"> <h3>üîå Connection Status</h3> <div class="status-item"> <span class="status-label">Backend API:</span> <span class="status-value" id="api-status">Disconnected</span> </div> <div class="status-item"> <span class="status-label">WebSocket:</span> <span class="status-value" id="ws-status">Disconnected</span> </div> <div class="status-item"> <span class="status-label">Player:</span> <span class="status-value" id="player-status">Not logged in</span> </div> <div class="status-item"> <span class="status-label">Current Game:</span> <span class="status-value" id="game-status">No active game</span> </div> </div> <div class="controls"> <div class="control-panel"> <h3>üîê Authentication</h3> <div class="form-group"> <label for="username">Username:</label> <input type="text" id="username" placeholder="Enter username" value="testuser"> </div> <div class="form-group"> <label for="password">Password:</label> <input type="password" id="password" placeholder="Enter password" value="testpass123"> </div> <div class="form-group"> <label for="email">Email (for registration):</label> <input type="email" id="email" placeholder="Enter email" value="test@example.com"> </div> <button class="btn" onclick="register()">Register</button> <button class="btn secondary" onclick="login()">Login</button> <button class="btn danger" onclick="logout()">Logout</button> </div> <div class="control-panel"> <h3>üéÆ Game Controls</h3> <button class="btn" onclick="createNewGame()" id="new-game-btn" disabled>New Game</button> <button class="btn secondary" onclick="loadGames()" id="load-games-btn" disabled>Load Games</button> <button class="btn secondary" onclick="saveGame()" id="save-game-btn" disabled>Save Game</button> <br> <button class="btn" onclick="movePlayer(0, -1)" id="move-up-btn" disabled>‚Üë Move Up</button> <button class="btn" onclick="movePlayer(-1, 0)" id="move-left-btn" disabled>‚Üê Move Left</button> <button class="btn" onclick="movePlayer(1, 0)" id="move-right-btn" disabled">‚Üí Move Right</button> <button class="btn" onclick="movePlayer(0, 1)" id="move-down-btn" disabled>‚Üì Move Down</button> <br> <button class="btn secondary" onclick="requestAIGuidance()" id="ai-guidance-btn" disabled>ü§ñ AI Guidance</button> </div> </div> <canvas id="game-canvas" class="game-canvas hidden" width="700" height="700"></canvas> <div class="log-panel"> <h3>üìã Activity Log</h3> <div id="log-container"></div> </div> </div> <script type="module"> // Simple demo implementation (would normally import from built modules) class DemoApiClient { constructor(baseUrl = 'http://localhost:3001/api') { this.baseUrl = baseUrl; this.token = localStorage.getItem('demo_token'); } async request(endpoint, options = {}) { const headers = { 'Content-Type': 'application/json' }; if (this.token) { headers['Authorization'] = `Bearer ${this.token}`; } const response = await fetch(`${this.baseUrl}${endpoint}`, { ...options, headers: { ...headers, ...options.headers } }); const data = await response.json(); if (!response.ok) { throw new Error(data.error?.message || 'Request failed'); } return data; } async register(username, email, password) { const result = await this.request('/auth/register', { method: 'POST', body: JSON.stringify({ username, email, password }) }); this.token = result.data.token; localStorage.setItem('demo_token', this.token); return result.data; } async login(username, password) { const result = await this.request('/auth/login', { method: 'POST', body: JSON.stringify({ username, password }) }); this.token = result.data.token; localStorage.setItem('demo_token', this.token); return result.data; } async logout() { await this.request('/auth/logout', { method: 'POST' }); this.token = null; localStorage.removeItem('demo_token'); } async createNewGame() { const result = await this.request('/game/new', { method: 'POST' }); return result.data.gameState; } async movePlayer(gameId, direction) { const result = await this.request(`/game/${gameId}/move`, { method: 'POST', body: JSON.stringify({ direction }) }); return result.data; } async getAIGuidance(gameId, context = 'general_guidance') { const result = await this.request(`/game/${gameId}/ai-guidance?context=${context}`); return result.data.aiResponse; } async saveGame(gameId) { await this.request(`/game/${gameId}/save`, { method: 'POST' }); } } // Global state window.apiClient = new DemoApiClient(); window.currentPlayer = null; window.currentGame = null; window.wsConnection = null; // Utility functions window.log = function(message, type = 'info') { const logContainer = document.getElementById('log-container'); const entry = document.createElement('div'); entry.className = `log-entry ${type}`; entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`; logContainer.appendChild(entry); logContainer.scrollTop = logContainer.scrollHeight; }; window.updateStatus = function() { document.getElementById('api-status').textContent = window.apiClient.token ? 'Connected' : 'Disconnected'; document.getElementById('api-status').className = window.apiClient.token ? 'status-value' : 'status-value error'; document.getElementById('ws-status').textContent = window.wsConnection ? 'Connected' : 'Disconnected'; document.getElementById('ws-status').className = window.wsConnection ? 'status-value' : 'status-value error'; document.getElementById('player-status').textContent = window.currentPlayer ? window.currentPlayer.username : 'Not logged in'; document.getElementById('player-status').className = window.currentPlayer ? 'status-value' : 'status-value error'; document.getElementById('game-status').textContent = window.currentGame ? `Level ${window.currentGame.dungeonLevel}` : 'No active game'; document.getElementById('game-status').className = window.currentGame ? 'status-value' : 'status-value error'; // Update button states const isLoggedIn = !!window.currentPlayer; const hasGame = !!window.currentGame; document.getElementById('new-game-btn').disabled = !isLoggedIn; document.getElementById('load-games-btn').disabled = !isLoggedIn; document.getElementById('save-game-btn').disabled = !hasGame; document.getElementById('move-up-btn').disabled = !hasGame; document.getElementById('move-left-btn').disabled = !hasGame; document.getElementById('move-right-btn').disabled = !hasGame; document.getElementById('move-down-btn').disabled = !hasGame; document.getElementById('ai-guidance-btn').disabled = !hasGame; }; // API functions window.register = async function() { try { const username = document.getElementById('username').value; const email = document.getElementById('email').value; const password = document.getElementById('password').value; const result = await window.apiClient.register(username, email, password); window.currentPlayer = result.player; window.log(`Registered successfully: ${result.player.username}`, 'info'); window.updateStatus(); } catch (error) { window.log(`Registration failed: ${error.message}`, 'error'); } }; window.login = async function() { try { const username = document.getElementById('username').value; const password = document.getElementById('password').value; const result = await window.apiClient.login(username, password); window.currentPlayer = result.player; window.log(`Logged in successfully: ${result.player.username}`, 'info'); window.updateStatus(); } catch (error) { window.log(`Login failed: ${error.message}`, 'error'); } }; window.logout = async function() { try { await window.apiClient.logout(); window.currentPlayer = null; window.currentGame = null; window.log('Logged out successfully', 'info'); window.updateStatus(); } catch (error) { window.log(`Logout failed: ${error.message}`, 'error'); } }; window.createNewGame = async function() { try { const gameState = await window.apiClient.createNewGame(); window.currentGame = gameState; window.log(`New game created: Level ${gameState.dungeonLevel}`, 'info'); window.updateStatus(); // Show canvas document.getElementById('game-canvas').classList.remove('hidden'); } catch (error) { window.log(`Failed to create new game: ${error.message}`, 'error'); } }; window.movePlayer = async function(x, y) { try { if (!window.currentGame) return; const result = await window.apiClient.movePlayer(window.currentGame.id, { x, y }); window.currentGame = result.gameState; window.log(`Moved player to (${result.gameState.playerPosition.x}, ${result.gameState.playerPosition.y})`, 'info'); if (result.events && result.events.length > 0) { result.events.forEach(event => window.log(event, 'info')); } if (result.aiResponse) { window.log(`AI: ${result.aiResponse.message}`, 'info'); } window.updateStatus(); } catch (error) { window.log(`Failed to move player: ${error.message}`, 'error'); } }; window.requestAIGuidance = async function() { try { if (!window.currentGame) return; const aiResponse = await window.apiClient.getAIGuidance(window.currentGame.id, 'player_requested_help'); window.log(`AI Guidance: ${aiResponse.message}`, 'info'); if (aiResponse.suggestedActions && aiResponse.suggestedActions.length > 0) { window.log(`Suggested actions: ${aiResponse.suggestedActions.join(', ')}`, 'info'); } } catch (error) { window.log(`Failed to get AI guidance: ${error.message}`, 'error'); } }; window.saveGame = async function() { try { if (!window.currentGame) return; await window.apiClient.saveGame(window.currentGame.id); window.log('Game saved successfully', 'info'); } catch (error) { window.log(`Failed to save game: ${error.message}`, 'error'); } }; window.loadGames = async function() { window.log('Load games functionality would list available saved games', 'info'); }; // Initialize window.updateStatus(); window.log('Demo initialized. Make sure the backend server is running on localhost:3001', 'info'); // Check if already logged in if (window.apiClient.token) { window.log('Found existing token, attempting to restore session...', 'info'); } </script> </body> </html>